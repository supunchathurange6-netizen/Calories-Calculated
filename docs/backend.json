
{
  "entities": {
    "UserProfile": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "UserProfile",
      "type": "object",
      "description": "Represents a user's profile, containing personal information and settings for the Ceylanta Calories app.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the user profile."
        },
        "name": {
          "type": "string",
          "description": "User's full name."
        },
        "age": {
          "type": "number",
          "description": "User's age in years."
        },
        "gender": {
          "type": "string",
          "description": "User's gender (e.g., male, female, other)."
        },
        "height": {
          "type": "number",
          "description": "User's height in centimeters."
        },
        "weight": {
          "type": "number",
          "description": "User's weight in kilograms."
        },
        "activityLevel": {
          "type": "string",
          "description": "User's activity level (e.g., low, medium, high)."
        },
        "goal": {
          "type": "string",
          "description": "User's fitness goal (e.g., lose weight, maintain, gain weight)."
        }
      },
      "required": [
        "id",
        "name",
        "age",
        "gender",
        "height",
        "weight",
        "activityLevel",
        "goal"
      ]
    },
    "FoodEntry": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "FoodEntry",
      "type": "object",
      "description": "Represents a single food item logged by the user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the food entry."
        },
        "userProfileId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:N FoodEntry)"
        },
        "foodName": {
          "type": "string",
          "description": "Name of the food item."
        },
        "calories": {
          "type": "number",
          "description": "Number of calories in the food item."
        },
        "portionSize": {
          "type": "string",
          "description": "The amount of food consumed (e.g., 1 cup, 1 slice)."
        },
        "mealType": {
          "type": "string",
          "description": "The meal type (e.g., breakfast, lunch, dinner)."
        },
        "date": {
          "type": "string",
          "description": "The date when the food was consumed.",
          "format": "date-time"
        }
      },
      "required": [
        "id",
        "userProfileId",
        "foodName",
        "calories",
        "portionSize",
        "mealType",
        "date"
      ]
    },
    "DailySummary": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "DailySummary",
      "type": "object",
      "description": "Represents a summary of the user's daily calorie intake and progress.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the daily summary."
        },
        "userProfileId": {
          "type": "string",
          "description": "Reference to UserProfile. (Relationship: UserProfile 1:N DailySummary)"
        },
        "date": {
          "type": "string",
          "description": "Date of the summary.",
          "format": "date-time"
        },
        "caloriesConsumed": {
          "type": "number",
          "description": "Total calories consumed on the day."
        },
        "caloriesRemaining": {
          "type": "number",
          "description": "Remaining calories for the day based on the user's goal."
        },
        "burnedCalories": {
          "type": "number",
          "description": "Calories burned through exercise or activity."
        }
      },
      "required": [
        "id",
        "userProfileId",
        "date",
        "caloriesConsumed",
        "caloriesRemaining"
      ]
    },
    "CustomFood": {
      "$schema": "http://json-schema.org/draft-07/schema#",
      "title": "CustomFood",
      "type": "object",
      "description": "Represents a food item manually entered by the user.",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique identifier for the custom food."
        },
        "name": {
          "type": "string",
          "description": "Name of the food."
        },
        "calories": {
          "type": "number"
        },
        "protein": {
          "type": "number"
        },
        "carbs": {
          "type": "number"
        },
        "fat": {
          "type": "number"
        },
        "isCustom": {
            "type": "boolean"
        }
      },
      "required": ["name", "calories", "isCustom"]
    },
    "WeightEntry": {
        "$schema": "http://json-schema.org/draft-07/schema#",
        "title": "WeightEntry",
        "type": "object",
        "description": "A single weight measurement for a user on a specific date.",
        "properties": {
            "date": {
                "type": "string",
                "format": "date",
                "description": "The date of the weight entry in YYYY-MM-DD format."
            },
            "weight": {
                "type": "number",
                "description": "The user's weight in kilograms."
            }
        },
        "required": ["date", "weight"]
    }
  },
  "auth": {
    "providers": [
      "password",
      "anonymous"
    ]
  },
  "firestore": {
    "structure": [
      {
        "path": "/users/{userId}",
        "definition": {
          "entityName": "UserProfile",
          "schema": {
            "$ref": "#/backend/entities/UserProfile"
          },
          "description": "Stores user profile information. The `userId` is used for path-based ownership."
        }
      },
      {
        "path": "/users/{userId}/foodEntries/{foodEntryId}",
        "definition": {
          "entityName": "FoodEntry",
          "schema": {
            "$ref": "#/backend/entities/FoodEntry"
          },
          "description": "Stores individual food entries for a user."
        }
      },
      {
        "path": "/users/{userId}/dailySummaries/{dailySummaryId}",
        "definition": {
          "entityName": "DailySummary",
          "schema": {
            "$ref": "#/backend/entities/DailySummary"
          },
          "description": "Stores daily summaries of calorie intake for a user."
        }
      },
      {
        "path": "/users/{userId}/customFoods/{customFoodId}",
        "definition": {
          "entityName": "CustomFood",
          "schema": {
            "$ref": "#/backend/entities/CustomFood"
          },
          "description": "Stores custom food items created by a user."
        }
      },
      {
          "path": "/users/{userId}/weightHistory/{weightEntryId}",
          "definition": {
            "entityName": "WeightEntry",
            "schema": {
                "$ref": "#/backend/entities/WeightEntry"
            },
            "description": "Stores a user's weight history. The document ID is the date (YYYY-MM-DD)."
          }
      }
    ]
  }
}
